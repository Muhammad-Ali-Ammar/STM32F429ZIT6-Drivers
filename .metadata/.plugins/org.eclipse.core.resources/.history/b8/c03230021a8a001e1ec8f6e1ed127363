/**************************************************************************/
/* Filename						: NVIC.c                            */
/* Author  	    				: Muhammad Ammar                          */
/* Date 						: Nov 12, 2023  	           	 	         	 */ 
/* Version 	 					: V01                                     */
/* MicroController  			: STM32429 								   */
/**************************************************************************/





/********************************** Includes *********************************************/


#include "../../SERVICES/BIT_UTILS.h"
#include "../../SERVICES/STD_TYPES.h"
#include "../../SERVICES/MAGIC_NUMBERS.h"
#include "../../SERVICES/HELPERS.h"




#include "../SCB/SCB.h"

#include "NVIC_private.h"

#include "NVIC.h"
/********************************** Private declaration **********************************/



/********************************** Data Type Declarations ****************************/

extern Scb_SelectGroupPriorityAndSubPriorityType Global_GroupPrioritySelection;

/********************************** Macros Declarations *******************************/

/********************************** Macros Function Declarations *********************/




/******************************* Software Interfaces Implementation *******************/

Nvic_ErrorStatusType Nvic_enuEnableInterrupt(Nvic_IndexPeripheralType Copy_NvicIndex){
	Nvic_ErrorStatusType Loc_NvicErrorStatus = NVIC_STATUS_OK;
	u8 Loc_u8RegNumber = Copy_NvicIndex/THIRTYTWO_VALUE;
	u8 Loc_u8BitNumber = Copy_NvicIndex%THIRTYTWO_VALUE;

	SET_BIT(GlobalStatic_NvicIsrEnableArr[Loc_u8RegNumber], Loc_u8BitNumber);


	return Loc_NvicErrorStatus;
}
Nvic_ErrorStatusType Nvic_enuDisableInterrupt(Nvic_IndexPeripheralType Copy_NvicIndex){
	Nvic_ErrorStatusType Loc_NvicErrorStatus = NVIC_STATUS_OK;
	u8 Loc_u8RegNumber = Copy_NvicIndex/THIRTYTWO_VALUE;
	u8 Loc_u8BitNumber = Copy_NvicIndex%THIRTYTWO_VALUE;

	SET_BIT(GlobalStatic_NvicIsrDisableArr[Loc_u8RegNumber], Loc_u8BitNumber);


	return Loc_NvicErrorStatus;
}


Nvic_ErrorStatusType Nvic_enuSetPendingFlag(Nvic_IndexPeripheralType Copy_NvicIndex){
	Nvic_ErrorStatusType Loc_NvicErrorStatus = NVIC_STATUS_OK;

	u8 Loc_u8RegNumber = Copy_NvicIndex/THIRTYTWO_VALUE;
	u8 Loc_u8BitNumber = Copy_NvicIndex%THIRTYTWO_VALUE;

	SET_BIT(GlobalStatic_NvicPendingFlagSetArr[Loc_u8RegNumber], Loc_u8BitNumber);


	return Loc_NvicErrorStatus;
}

Nvic_ErrorStatusType Nvic_enuClearPendingFlag(Nvic_IndexPeripheralType Copy_NvicIndex){
	Nvic_ErrorStatusType Loc_NvicErrorStatus = NVIC_STATUS_OK;

	u8 Loc_u8RegNumber = Copy_NvicIndex/THIRTYTWO_VALUE;
	u8 Loc_u8BitNumber = Copy_NvicIndex%THIRTYTWO_VALUE;

	SET_BIT(GlobalStatic_NvicPendingFlagClearArr[Loc_u8RegNumber], Loc_u8BitNumber);


	return Loc_NvicErrorStatus;
}


Nvic_ErrorStatusType Nvic_enuGetActiveFlag(Nvic_IndexPeripheralType Copy_NvicIndex, Nvic_ActiveFlagType* Address_Result){
	Nvic_ErrorStatusType Loc_NvicErrorStatus = NVIC_STATUS_OK;
	if(NULL == Address_Result){
		Loc_NvicErrorStatus = NVIC_STATUS_NULL_POINTER_ADDRESS;
	}
	else{

	}

	return Loc_NvicErrorStatus;
}

Nvic_ErrorStatusType Nvic_SetInterruptPriority(Nvic_IndexPeripheralType Copy_NvicIndex,Nvic_SelectGroupxType Copy_enuGroupNumber,
																Nvic_SelectSubxType Copy_enuSubNumber){
	Nvic_ErrorStatusType Loc_NvicErrorStatus = NVIC_STATUS_OK;


	return Loc_NvicErrorStatus;
}





/**************************** Private Software Interface Implementation **************/

